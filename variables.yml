---
ssh_private_key: "{{ lookup('env', 'HOME') }}/.ssh/id_mesosphere_lab"
ssh_public_key: "{{ ssh_private_key }}.pub"

aws:
  keypair_label: mesosphere_lab
  idempotency_id: alpha10
  ami:
    debian: ami-187fd06f  # Debian Wheezy - https://wiki.debian.org/Cloud/AmazonEC2Image/

mesos:
  quorum: 3

upper_instances:
  cluster_role: master
  type: m1.small
  count: 5
  security_group:
    name: mesosphere_lab_masters
    description: mesosphere_lab_masters rules
    rules:
      - { proto: tcp, from_port: 22, to_port: 22, cidr_ip: 0.0.0.0/0 }
      - { proto: tcp, from_port: 5050, to_port: 5050, cidr_ip: 0.0.0.0/0 }
      - { proto: tcp, from_port: 8080, to_port: 8080, cidr_ip: 0.0.0.0/0 }
      - { proto: tcp, from_port: 1024, to_port: 65535, group_name: mesosphere_lab_masters }
      - { proto: tcp, from_port: 1024, to_port: 65535, group_name: mesosphere_lab_slaves }

lower_instances:
  cluster_role: slave
  type: m1.small
  count: 5
  security_group:
    name: mesosphere_lab_slaves
    description: mesosphere_lab_slaves rules
    rules:
      - { proto: tcp, from_port: 22, to_port: 22, cidr_ip: 0.0.0.0/0 }
      - { proto: tcp, from_port: 31000, to_port: 32000, cidr_ip: 0.0.0.0/0 }
      - { proto: tcp, from_port: 1024, to_port: 65535, group_name: mesosphere_lab_masters }
      - { proto: tcp, from_port: 1024, to_port: 65535, group_name: mesosphere_lab_slaves }
